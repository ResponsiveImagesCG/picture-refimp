/*! Picture reference implementation 2013-06-05 */
!function(a,b){function c(){for(var a=document.querySelectorAll("img"),b=[],c=a.length-1;c>=0;c--)b={img:b[c]};return b}function d(){var b=a.document.createElement("a");this.resolve=function(a){return b.href=a,b.href}}c(),new d,document.body.addEventListener("load",function(){console.log(e.target)},!0)}(window,window.srcsetParser),function(a,b,c){"use strict";function d(){}function e(a){var c=a.value;if(!(a instanceof b.Attr))throw new TypeError("Invalid input");for(var d,e=0,g=c.length,h=[];g>e;){e+=i.skipWhiteSpace(c.substr(e,g));for(var j,k=i.whitespace,l="";g>e&&(j=c[e],-1===k.indexOf(j));e++)l+=j;if(0===l.length)return f(h,a);for(d="";g>e;e++){if(","===c[e]){e++;break}d+=c[e]}h.push({url:l,descriptors:d})}return f(h,a)}function f(a,d){function e(a){function b(a,b){for(var c in a)if("url"!==c&&String(a[c])!==String(b[c]))return!1;return!0}if(a.length>1)for(var c=0;c<=a.length;c++)for(var d=a.length-1;d>c;d--)c!==d&&b(a[c],a[d])&&a.splice(d,1);return a}function f(a,b){var c=/^\d+\u0077$/,d=/^\d+\u0068$/,e=/^[\-\+]?[0-9]*\.?[0-9]+([eE][\-\+]?[0-9]+)?\u0078$/;c.test(a)?(null!==t&&(s=!0),t=i.parseNonNegInt(a)):d.test(a)?(null!==u&&(s=!0),u=i.parseNonNegInt(a)):e.test(a)&&(null!==v&&(s=!0),v=i.parseFloat(a)),s||o.push(new h(b,t,u,v))}function h(a,b,c,d){this.url=a,this.width=b||1/0,this.height=c||1/0,this.density=d||1}function j(a,b,c){if(b.length>1){for(var d=0,e=b[d+1],f=b[d];d<b.length;d++)b[d].hasOwnProperty(a)&&b[d][a]<c&&(f=e&&e[a]>f[a]?e:f,b.splice(d--,1),e=b[d+1]);0===b.length&&b.unshift(f)}}function k(a,b){if(b.length>1)for(var c=0,d=b[0];c<b.length;c++)b[c].hasOwnProperty(a)&&b[c+1]&&(b[c+1][a]>d[a]?(b.splice(c+1,1),c--):b[c+1][a]!==d[a]&&(d=b[c+1],b.splice(c--,1)))}for(var l,m,n,o=[],p=0,q=a.length;q>p;p++)for(var r=i.splitStringOnSpaces(a[p].descriptors),s=!1,t=null,u=null,v=null,w=0,x=r.length;x>w;w++)f(r[w],a[p].url);return d.ownerElement.hasAttribute("src")&&""!==d.ownerElement.getAttribute("src")&&o.push(new h(d.ownerElement.getAttribute("src"))),0===o.length?{url:null,density:void 0}:(e(o),l=c?c.width:b.innerWidth,m=c?c.height:b.innerHeight,n=c?c.density:b.devicePixelRatio||1,j("width",o,l),j("height",o,m),j("density",o,n),["width","height","density"].forEach(function(a){k(a,o)}),o.length>1&&g&&b.console.warn("there was more than one candidate?",o),{url:o[0].url,density:o[0].density})}var g=!0,h=new d,i=b.HTML;Object.defineProperty(d.prototype,"parse",{value:e}),Object.defineProperty(a,"srcsetParser",{get:function(){return h}})}(this,window,window.customViewport);